{% extends "admin.twig.html" %}
{% block title %}Gestion des Emplacements{% endblock %}

{% block body %}
    <section>
        <h1>Gestion des <span class="white">Emplacements</span></h1>
        {% if log == "errorSingle" %}
            <p class="error">L'emplacement n'a pas pu être créé.</p>
        {% elseif log == "okSingle" %}
            <p class="valid">L'emplacement a bien été créé.</p>
        {% elseif log == "noneInterval" %}
            <p class="error">Les emplacements n'ont pas pu été créés.</p>
        {% elseif log == "fullInterval" %}
            <p class="valid">Les emplacements ont bien pu été créés.</p>
        {% elseif log == "partialInterval" %}
            <p class="warning">Certains emplacements n'ont pas pu été créés.</p>
        {% endif %}
        <h2>Créer un emplacement unique</h2>
        <p id="locationSingleFeedback" class="error"></p>
        <form method="POST" id="locationSingleForm" action="/location/createsingle">
            <label>Zone
                <input type="text" name="area" id="area" required>
            </label>
            <label>Allée
                <input type="text" name="aisle" id="aisle" required>
            </label>
            <label>Colonne
                <input type="text" name="col" id="col" required>
            </label>
            <label>Niveau
                <input type="text" name="level" id="level" required>
            </label>
            <input type="submit" value="Créer l'emplacement" id="locationSingleSubmit">
            <input type="hidden" name="token" id="token" value="{{ token }}">
        </form>
        <h2>Créer un intervalle d'emplacements</h2>
        <p id="locationIntervalFeedback" class="error"></p>
        <form method="POST" id="locationIntervalForm" action="/location/createinterval">
            <label>Zone
                <input type="text" name="area" id="area" required>
            </label>
            <fieldset>
                <legend>Allées</legend>
                <label>Début
                    <input type="text" name="fromAisle" id="fromAisle" required>
                </label>
                <label>Fin
                    <input type="text" name="toAisle" id="toAisle" required>
                </label>
            </fieldset>
            <fieldset>
                <legend>Colonnes</legend>
                <label>Début
                    <input type="text" name="fromCol" id="fromCol" required>
                </label>
                <label>Fin
                    <input type="text" name="toCol" id="toCol" required>
                </label>
            </fieldset>
            <fieldset>
                <legend>Niveaux</legend>
                <label>Début
                    <input type="text" name="fromLevel" id="fromLevel" required>
                </label>
                <label>Fin
                    <input type="text" name="toLevel" id="toLevel" required>
                </label>
            </fieldset>
            <input type="submit" value="Créer les emplacements" id="locationIntervalSubmit">
            <input type="hidden" name="token" id="token" value="{{ token }}">
        </form>
        <h2>Importer un fichier</h2>
        <p>Télécharger un <a href="/csv/importLocations.csv">fichier Emplacements</a>.</p>
        <form method="POST" enctype="multipart/form-data" action="/location/import">
            <input type="file" name="locationFile" id="locationFile" class="button icon file-icon" accept=".csv" required>
            <input type="submit" name="Importer">
            <input type="hidden" name="token" id="token" value="{{ token }}">
        </form>
        <h2>Liste</h2>
    </section>
{% endblock %}